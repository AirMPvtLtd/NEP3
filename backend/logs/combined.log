{"level":"warn","message":"⚠️ SENDGRID_API_KEY not found. Email functionality disabled.","service":"nep-workbench","timestamp":"2026-01-05 18:38:15"}
{"level":"warn","message":"⚠️ SENDGRID_API_KEY not found. Email functionality disabled.","service":"nep-workbench","timestamp":"2026-01-05 19:13:12"}
{"level":"warn","message":"⚠️ SENDGRID_API_KEY not found. Email functionality disabled.","service":"nep-workbench","timestamp":"2026-01-05 19:15:58"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-05 19:30:27"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 00:14:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 01:26:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 01:26:59"}
{"database":"nep-workbench","host":"localhost","level":"info","message":"MongoDB connected successfully","port":27017,"service":"nep-workbench","timestamp":"2026-01-06 01:26:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 20:31:38"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 20:43:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 20:48:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 20:49:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-06 20:53:20"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 15:57:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 16:20:41"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at role (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:328:13)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express-rate-limit/dist/index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express-rate-limit/dist/index.cjs:691:5","timestamp":"2026-01-08 16:20:48"}
{"level":"error","message":"Update profile error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at role (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:639:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at next (/home/popeye/Downloads/NEP3/backend/middleware/validation.middleware.js:323:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:328:13)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express-rate-limit/dist/index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express-rate-limit/dist/index.cjs:691:5","timestamp":"2026-01-08 16:20:49"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at userId (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:328:13)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express-rate-limit/dist/index.cjs:807:7\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express-rate-limit/dist/index.cjs:691:5","timestamp":"2026-01-08 16:20:49"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:14:34"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:29:56"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:33:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:45:37"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:46:06"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:53:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 19:59:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 20:00:06"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 20:00:14"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 20:10:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-08 20:10:42"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:50:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:51:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:54:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:54:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:55:31"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:57:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:58:46"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 00:59:49"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:03:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:04:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:04:23"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:04:40"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:06:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:06:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:07:23"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:07:46"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:08:03"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:08:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:16:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:16:23"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:37:32"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:40:30"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:42:42"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:43:30"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:45:49"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:48:43"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:52:32"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 01:54:05"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 02:01:03"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 02:01:15"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 02:05:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 02:06:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 02:11:12"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at exports.logout (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-09 02:12:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 02:17:31"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 18:23:18"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 18:48:37"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 18:55:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 19:03:30"}
{"level":"error","message":"AppError is not a constructor","method":"GET","name":"TypeError","path":"/login.html","service":"nep-workbench","stack":"TypeError: AppError is not a constructor\n    at /home/popeye/Downloads/NEP3/backend/app.js:631:8\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)","statusCode":500,"timestamp":"2026-01-09 19:03:39"}
{"level":"error","message":"AppError is not a constructor","method":"GET","name":"TypeError","path":"/favicon.ico","service":"nep-workbench","stack":"TypeError: AppError is not a constructor\n    at /home/popeye/Downloads/NEP3/backend/app.js:631:8\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)","statusCode":500,"timestamp":"2026-01-09 19:03:39"}
{"level":"error","message":"AppError is not a constructor","method":"GET","name":"TypeError","path":"/login.html","service":"nep-workbench","stack":"TypeError: AppError is not a constructor\n    at /home/popeye/Downloads/NEP3/backend/app.js:631:8\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)","statusCode":500,"timestamp":"2026-01-09 19:03:42"}
{"level":"error","message":"AppError is not a constructor","method":"GET","name":"TypeError","path":"/favicon.ico","service":"nep-workbench","stack":"TypeError: AppError is not a constructor\n    at /home/popeye/Downloads/NEP3/backend/app.js:631:8\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:145:7)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)","statusCode":500,"timestamp":"2026-01-09 19:03:42"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 19:11:10"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 19:19:43"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-09 19:34:51"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:25:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:29:02"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:29:27"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:29:28"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:29:28"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at exports.logout (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:29:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:29:46"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:29:52"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:29:52"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:29:52"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at exports.logout (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:29:52"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:34:06"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:34:07"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:34:07"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at exports.logout (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:34:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Refresh token error: Invalid refresh token","service":"nep-workbench","stack":"Error: Invalid refresh token\n    at verifyRefreshToken (/home/popeye/Downloads/NEP3/backend/config/jwt.js:227:13)\n    at exports.refreshToken (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:306:21)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Update profile error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.updateProfile (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:639:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateStudentUpdate (/home/popeye/Downloads/NEP3/backend/middleware/validation.middleware.js:323:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Get current user error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.getCurrentUser (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:614:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Update profile error: Cannot read properties of undefined (reading 'role')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'role')\n    at exports.updateProfile (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:639:22)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at validateStudentUpdate (/home/popeye/Downloads/NEP3/backend/middleware/validation.middleware.js:323:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at exports.logout (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"error","message":"Logout error: Cannot read properties of undefined (reading 'userId')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'userId')\n    at exports.logout (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:279:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 13:46:05"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:54:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 13:54:29"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:01:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:01:16"}
{"level":"error","message":"Resend verification error: Cannot read properties of undefined (reading 'toLowerCase')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at exports.resendVerification (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:474:60)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 14:01:17"}
{"level":"error","message":"Forgot password error: Cannot read properties of undefined (reading 'toLowerCase')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at exports.forgotPassword (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:548:60)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 14:01:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:02:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:02:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:08:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:08:23"}
{"level":"error","message":"Resend verification error: Cannot read properties of undefined (reading 'toLowerCase')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at exports.resendVerification (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:474:60)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 14:08:23"}
{"level":"error","message":"Forgot password error: Cannot read properties of undefined (reading 'toLowerCase')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at exports.forgotPassword (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:548:60)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 14:08:23"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:09:48"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:09:56"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:09:58"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:09:58"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:09:59"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:09:59"}
{"kind":"ObjectId","level":"error","message":"Signup error: Cast to ObjectId failed for value \"TCH-EWBI1\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-EWBI1\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:76:20)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"TCH-EWBI1\"","timestamp":"2026-01-10 14:09:59","value":"TCH-EWBI1","valueType":"string"}
{"level":"error","message":"Resend verification error: Cannot read properties of undefined (reading 'toLowerCase')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at exports.resendVerification (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:474:60)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 14:10:00"}
{"level":"error","message":"Forgot password error: Cannot read properties of undefined (reading 'toLowerCase')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'toLowerCase')\n    at exports.forgotPassword (/home/popeye/Downloads/NEP3/backend/controllers/auth.controller.js:548:60)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2026-01-10 14:10:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:12:25"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:12:28"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:12:33"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:12:33"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:12:34"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:12:34"}
{"kind":"ObjectId","level":"error","message":"Signup error: Cast to ObjectId failed for value \"TCH-DULNI\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-DULNI\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:76:20)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"TCH-DULNI\"","timestamp":"2026-01-10 14:12:34","value":"TCH-DULNI","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:35:24"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:35:27"}
{"_message":"School validation failed","errors":{"schoolAddress":{"kind":"required","message":"School address is required","name":"ValidatorError","path":"schoolAddress","properties":{"message":"School address is required","path":"schoolAddress","type":"required"}}},"level":"error","message":"Signup error: School validation failed: schoolAddress: School address is required","service":"nep-workbench","stack":"ValidationError: School validation failed: schoolAddress: School address is required\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-10 14:35:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:39:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:39:15"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:39:24"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:39:24"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:39:25"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:39:25"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:42:53"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-10 14:42:56"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-10 14:42:56"}
{"kind":"ObjectId","level":"error","message":"Signup error: Cast to ObjectId failed for value \"SCH-2026-0OUYZ\" (type string) at path \"_id\" for model \"School\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"SCH-2026-0OUYZ\" (type string) at path \"_id\" for model \"School\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:390:32)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:76:20)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)\n    at model.Query._findOne (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2697:8)\n    at model.Query.exec (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","stringValue":"\"SCH-2026-0OUYZ\"","timestamp":"2026-01-10 14:42:56","value":"SCH-2026-0OUYZ","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:48:02"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 14:48:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:02:14"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:02:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:13:35"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:15:34"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:16:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:16:27"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:17:30"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:20:53"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:28:45"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:32:40"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:35:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:37:11"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:43:01"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:49:52"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 15:53:23"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 16:15:10"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-10 16:15:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 17:20:39"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 17:59:54"}
{"level":"error","message":"Update school error: School.findByIdAndUpdate is not a function","service":"nep-workbench","stack":"TypeError: School.findByIdAndUpdate is not a function\n    at exports.updateSchool (/home/popeye/Downloads/NEP3/backend/controllers/admin.controller.js:102:33)\n    at TestContext.<anonymous> (/home/popeye/Downloads/NEP3/backend/admincontroller.test.js:163:27)\n    at Test.runInAsyncScope (node:async_hooks:206:9)\n    at Test.run (node:internal/test_runner/test:796:25)\n    at Suite.processPendingSubtests (node:internal/test_runner/test:526:18)\n    at Test.postRun (node:internal/test_runner/test:889:19)\n    at Test.run (node:internal/test_runner/test:835:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Promise.all (index 0)\n    at async Suite.run (node:internal/test_runner/test:1135:7)","timestamp":"2026-01-10 18:27:22"}
{"level":"error","message":"Get all teachers error: Teacher.find(...).sort is not a function","service":"nep-workbench","stack":"TypeError: Teacher.find(...).sort is not a function\n    at exports.getAllTeachers (/home/popeye/Downloads/NEP3/backend/controllers/admin.controller.js:326:8)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TestContext.<anonymous> (/home/popeye/Downloads/NEP3/backend/admincontroller.test.js:173:5)\n    at async Test.run (node:internal/test_runner/test:797:9)\n    at async Suite.processPendingSubtests (node:internal/test_runner/test:526:7)","timestamp":"2026-01-10 18:27:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 18:51:21"}
{"level":"error","message":"Forgot password error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-10 18:59:10"}
{"level":"error","message":"Forgot password error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-10 19:02:40"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 19:07:06"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 19:08:45"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 19:17:50"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 19:28:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 19:31:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 19:48:49"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 20:02:24"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-10 20:04:40"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 20:15:05"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 20:16:55"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-10 20:21:28"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-11 01:02:37"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-11 01:04:43"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-11 01:19:11"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-11 01:19:36"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-11 01:20:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-11 01:34:11"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-11 01:49:46"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-11 01:52:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 13:47:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 18:48:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:16:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:17:47"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:18:23"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:43:18"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:46:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:46:31"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:47:41"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 19:57:48"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 20:24:41"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 20:28:38"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 20:54:30"}
{"level":"error","message":"Login error: Operation `teachers.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `teachers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-12 20:55:49"}
{"level":"error","message":"Login error: Operation `teachers.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `teachers.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-12 20:57:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-12 23:18:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:12:49"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:29:21"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:30:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:33:25"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:35:06"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:37:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:38:34"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:39:18"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:39:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:45:10"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:49:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:49:47"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:51:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:52:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 18:53:34"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 19:01:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 19:04:34"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 19:19:04"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 19:23:27"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 19:27:11"}
{"level":"error","message":"Login error: Operation `students.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `students.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-13 19:38:38"}
{"level":"error","message":"Signup error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-13 19:39:34"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 19:42:36"}
{"level":"error","message":"Login error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-13 19:43:15"}
{"level":"error","message":"Login error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-13 19:43:42"}
{"level":"error","message":"Login error: Operation `students.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `students.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-13 19:45:30"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-13 20:09:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 11:34:15"}
{"level":"error","message":"Login error: Operation `schools.findOne()` buffering timed out after 10000ms","service":"nep-workbench","stack":"MongooseError: Operation `schools.findOne()` buffering timed out after 10000ms\n    at Timeout.<anonymous> (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/drivers/node-mongodb-native/collection.js:187:23)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)","timestamp":"2026-01-14 11:35:45"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":86708,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 11:45:45"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 11:45:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":86773,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 11:46:17"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":89194,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 12:37:05"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":89398,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 12:38:10"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":89613,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 12:40:44"}
{"0":"U","1":"n","10":"e","11":"d","2":"a","3":"u","4":"t","5":"h","6":"o","7":"r","8":"i","9":"z","level":"error","message":"❌ Error sending email:","service":"nep-workbench","timestamp":"2026-01-14 13:18:26"}
{"errors":[{"field":null,"help":null,"message":"The provided authorization grant is invalid, expired, or revoked"}],"level":"error","message":"SendGrid Error:","service":"nep-workbench","timestamp":"2026-01-14 13:18:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":91742,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 13:25:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":92864,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 13:40:40"}
{"_message":"InstitutionalReport validation failed","errors":{"reportType":{"kind":"enum","message":"`institutional` is not a valid enum value for path `reportType`.","name":"ValidatorError","path":"reportType","properties":{"enumValues":["weekly","monthly","quarterly","annual"],"length":13,"message":"`institutional` is not a valid enum value for path `reportType`.","path":"reportType","type":"enum","value":"institutional"},"value":"institutional"}},"level":"error","message":"Generate report error: InstitutionalReport validation failed: reportType: `institutional` is not a valid enum value for path `reportType`.","service":"nep-workbench","stack":"ValidationError: InstitutionalReport validation failed: reportType: `institutional` is not a valid enum value for path `reportType`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 13:43:01"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":93511,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 13:53:30"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"},"subjects.0":{"kind":"enum","message":"`physics` is not a valid enum value for path `subjects.0`.","name":"ValidatorError","path":"subjects.0","properties":{"enumValues":["Physics","Chemistry","Mathematics","Biology","Computer Science","English","Hindi","Social Science"],"length":7,"message":"`physics` is not a valid enum value for path `subjects.0`.","path":"subjects.0","type":"enum","value":"physics"},"value":"physics"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`., subjects.0: `physics` is not a valid enum value for path `subjects.0`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`., subjects.0: `physics` is not a valid enum value for path `subjects.0`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 13:56:01"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"},"subjects.0":{"kind":"enum","message":"`physics` is not a valid enum value for path `subjects.0`.","name":"ValidatorError","path":"subjects.0","properties":{"enumValues":["Physics","Chemistry","Mathematics","Biology","Computer Science","English","Hindi","Social Science"],"length":7,"message":"`physics` is not a valid enum value for path `subjects.0`.","path":"subjects.0","type":"enum","value":"physics"},"value":"physics"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`., subjects.0: `physics` is not a valid enum value for path `subjects.0`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`., subjects.0: `physics` is not a valid enum value for path `subjects.0`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 22:32:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":117912,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 23:08:10"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:08:52"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:09:33"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":118989,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 23:22:11"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:22:38"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:22:55"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:23:23"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:30:24"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:36:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":120053,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 23:41:10"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:41:16"}
{"_message":"Teacher validation failed","errors":{"status":{"kind":"enum","message":"`APPROVED` is not a valid enum value for path `status`.","name":"ValidatorError","path":"status","properties":{"enumValues":["pending","approved","rejected","suspended","active","inactive"],"length":8,"message":"`APPROVED` is not a valid enum value for path `status`.","path":"status","type":"enum","value":"APPROVED"},"value":"APPROVED"}},"level":"error","message":"Add teacher error: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.","service":"nep-workbench","stack":"ValidationError: Teacher validation failed: status: `APPROVED` is not a valid enum value for path `status`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-14 23:48:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":120764,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-14 23:49:36"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: nep-workbench.teachers index: teacherId_1 dup key: { teacherId: \"TCH-8H1ZR\" }","index":0,"keyPattern":{"teacherId":1},"keyValue":{"teacherId":"TCH-8H1ZR"}},"index":0,"keyPattern":{"teacherId":1},"keyValue":{"teacherId":"TCH-8H1ZR"},"level":"error","message":"Signup error: E11000 duplicate key error collection: nep-workbench.teachers index: teacherId_1 dup key: { teacherId: \"TCH-8H1ZR\" }","service":"nep-workbench","stack":"MongoServerError: E11000 duplicate key error collection: nep-workbench.teachers index: teacherId_1 dup key: { teacherId: \"TCH-8H1ZR\" }\n    at InsertOneOperation.handleOk (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at tryOperation (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async Collection.insertOne (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/collection.js:154:16)","timestamp":"2026-01-15 00:09:42"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":121968,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 00:12:06"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":124790,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 01:10:25"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 01:19:49"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":125327,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 01:19:50"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":126372,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 01:36:10"}
{"kind":"ObjectId","level":"error","message":"Get teacher profile error: Cast to ObjectId failed for value \"SCH-2026-M42RM\" (type string) at path \"_id\" for model \"School\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"SCH-2026-M42RM\" (type string) at path \"_id\" for model \"School\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"SCH-2026-M42RM\"","timestamp":"2026-01-15 01:37:35","value":"SCH-2026-M42RM","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":126624,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 01:40:05"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":126909,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 01:44:50"}
{"kind":"ObjectId","level":"error","message":"Get teacher profile error: Cast to ObjectId failed for value \"SCH-2026-M42RM\" (type string) at path \"_id\" for model \"School\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"SCH-2026-M42RM\" (type string) at path \"_id\" for model \"School\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"SCH-2026-M42RM\"","timestamp":"2026-01-15 01:47:52","value":"SCH-2026-M42RM","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":127564,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 01:57:57"}
{"kind":"ObjectId","level":"error","message":"Get teacher profile error: Cast to ObjectId failed for value \"SCH-2026-M42RM\" (type string) at path \"_id\" for model \"School\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"SCH-2026-M42RM\" (type string) at path \"_id\" for model \"School\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"SCH-2026-M42RM\"","timestamp":"2026-01-15 01:58:55","value":"SCH-2026-M42RM","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 02:08:00"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":128113,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 02:08:01"}
{"level":"error","message":"Get teacher profile error: School is not defined","service":"nep-workbench","stack":"ReferenceError: School is not defined\n    at exports.getProfile (/home/popeye/Downloads/NEP3/backend/controllers/teacher.controller.js:42:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-15 02:08:46"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":128321,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 02:10:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":128642,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 02:15:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 02:32:43"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":129910,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 02:33:02"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":156540,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 12:08:31"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":160165,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 12:25:59"}
{"_message":"InstitutionalReport validation failed","errors":{"reportType":{"kind":"enum","message":"`institutional` is not a valid enum value for path `reportType`.","name":"ValidatorError","path":"reportType","properties":{"enumValues":["weekly","monthly","quarterly","annual"],"length":13,"message":"`institutional` is not a valid enum value for path `reportType`.","path":"reportType","type":"enum","value":"institutional"},"value":"institutional"}},"level":"error","message":"Generate report error: InstitutionalReport validation failed: reportType: `institutional` is not a valid enum value for path `reportType`.","service":"nep-workbench","stack":"ValidationError: InstitutionalReport validation failed: reportType: `institutional` is not a valid enum value for path `reportType`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-15 12:58:32"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 20:22:07"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":197228,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 20:22:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":200486,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 21:30:43"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: nep-workbench.students index: schoolId_1_class_1_section_1_rollNumber_1 dup key: { schoolId: \"SCH-2026-M42RM\", class: 10, section: \"A\", rollNumber: 2 }","index":0,"keyPattern":{"class":1,"rollNumber":1,"schoolId":1,"section":1},"keyValue":{"class":10,"rollNumber":2,"schoolId":"SCH-2026-M42RM","section":"A"}},"index":0,"keyPattern":{"class":1,"rollNumber":1,"schoolId":1,"section":1},"keyValue":{"class":10,"rollNumber":2,"schoolId":"SCH-2026-M42RM","section":"A"},"level":"error","message":"Add student error: E11000 duplicate key error collection: nep-workbench.students index: schoolId_1_class_1_section_1_rollNumber_1 dup key: { schoolId: \"SCH-2026-M42RM\", class: 10, section: \"A\", rollNumber: 2 }","service":"nep-workbench","stack":"MongoServerError: E11000 duplicate key error collection: nep-workbench.students index: schoolId_1_class_1_section_1_rollNumber_1 dup key: { schoolId: \"SCH-2026-M42RM\", class: 10, section: \"A\", rollNumber: 2 }\n    at InsertOneOperation.handleOk (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at tryOperation (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async Collection.insertOne (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/collection.js:154:16)","timestamp":"2026-01-15 23:08:50"}
{"_message":"Student validation failed","errors":{"class":{"kind":"required","message":"Class is required","name":"ValidatorError","path":"class","properties":{"message":"Class is required","path":"class","type":"required"}},"rollNumber":{"kind":"required","message":"Roll number is required","name":"ValidatorError","path":"rollNumber","properties":{"message":"Roll number is required","path":"rollNumber","type":"required"}},"section":{"kind":"required","message":"Section is required","name":"ValidatorError","path":"section","properties":{"message":"Section is required","path":"section","type":"required"}},"teacherId":{"kind":"required","message":"Teacher ID is required","name":"ValidatorError","path":"teacherId","properties":{"message":"Teacher ID is required","path":"teacherId","type":"required"}}},"level":"error","message":"Signup error: Student validation failed: rollNumber: Roll number is required, section: Section is required, class: Class is required, teacherId: Teacher ID is required","service":"nep-workbench","stack":"ValidationError: Student validation failed: rollNumber: Roll number is required, section: Section is required, class: Class is required, teacherId: Teacher ID is required\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-15 23:12:10"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: nep-workbench.students index: schoolId_1_class_1_section_1_rollNumber_1 dup key: { schoolId: \"SCH-2026-M42RM\", class: 10, section: \"A\", rollNumber: 2 }","index":0,"keyPattern":{"class":1,"rollNumber":1,"schoolId":1,"section":1},"keyValue":{"class":10,"rollNumber":2,"schoolId":"SCH-2026-M42RM","section":"A"}},"index":0,"keyPattern":{"class":1,"rollNumber":1,"schoolId":1,"section":1},"keyValue":{"class":10,"rollNumber":2,"schoolId":"SCH-2026-M42RM","section":"A"},"level":"error","message":"Add student error: E11000 duplicate key error collection: nep-workbench.students index: schoolId_1_class_1_section_1_rollNumber_1 dup key: { schoolId: \"SCH-2026-M42RM\", class: 10, section: \"A\", rollNumber: 2 }","service":"nep-workbench","stack":"MongoServerError: E11000 duplicate key error collection: nep-workbench.students index: schoolId_1_class_1_section_1_rollNumber_1 dup key: { schoolId: \"SCH-2026-M42RM\", class: 10, section: \"A\", rollNumber: 2 }\n    at InsertOneOperation.handleOk (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/insert.js:51:19)\n    at tryOperation (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:214:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:78:16)\n    at async Collection.insertOne (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/node_modules/mongodb/lib/collection.js:154:16)","timestamp":"2026-01-15 23:29:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":207186,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 23:41:21"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 23:45:43"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":207456,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 23:45:44"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":208467,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-15 23:59:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":209320,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 00:03:47"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Get available simulations error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js","requireStack":["/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js","/home/popeye/Downloads/NEP3/backend/routes/student.routes.js","/home/popeye/Downloads/NEP3/backend/app.js","/home/popeye/Downloads/NEP3/backend/server.js"],"service":"nep-workbench","stack":"Error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)\n    at Module._load (node:internal/modules/cjs/loader:1043:27)\n    at Module.require (node:internal/modules/cjs/loader:1298:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:175:22\n    at Array.map (<anonymous>)\n    at exports.getAvailableSimulations (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:173:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-16 00:04:22"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Get available simulations error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js","requireStack":["/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js","/home/popeye/Downloads/NEP3/backend/routes/student.routes.js","/home/popeye/Downloads/NEP3/backend/app.js","/home/popeye/Downloads/NEP3/backend/server.js"],"service":"nep-workbench","stack":"Error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)\n    at Module._load (node:internal/modules/cjs/loader:1043:27)\n    at Module.require (node:internal/modules/cjs/loader:1298:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:175:22\n    at Array.map (<anonymous>)\n    at exports.getAvailableSimulations (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:173:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-16 00:05:18"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Get available simulations error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js","requireStack":["/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js","/home/popeye/Downloads/NEP3/backend/routes/student.routes.js","/home/popeye/Downloads/NEP3/backend/app.js","/home/popeye/Downloads/NEP3/backend/server.js"],"service":"nep-workbench","stack":"Error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)\n    at Module._load (node:internal/modules/cjs/loader:1043:27)\n    at Module.require (node:internal/modules/cjs/loader:1298:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:175:22\n    at Array.map (<anonymous>)\n    at exports.getAvailableSimulations (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:173:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-16 00:06:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":210329,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 00:21:36"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":210576,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 00:25:23"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-C7AY3","service":"nep-workbench","simulationType":"projectile-motion-simulator","studentLevel":10,"timestamp":"2026-01-16 00:33:12"}
{"_message":"Challenge validation failed","errors":{"questions.0.competencies.0":{"kind":"enum","message":"`3.4` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`3.4` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"3.4"},"value":"3.4"},"questions.0.competencies.1":{"kind":"enum","message":"`3.5` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`3.5` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"3.5"},"value":"3.5"},"questions.1.competencies.0":{"kind":"enum","message":"`4.5` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`4.5` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"4.5"},"value":"4.5"},"questions.1.competencies.1":{"kind":"enum","message":"`4.6` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`4.6` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"4.6"},"value":"4.6"},"questions.2.competencies.0":{"kind":"enum","message":"`3.4` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`3.4` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"3.4"},"value":"3.4"},"questions.2.competencies.1":{"kind":"enum","message":"`3.5` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`3.5` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"3.5"},"value":"3.5"},"questions.3.competencies.0":{"kind":"enum","message":"`4.5` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`4.5` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"4.5"},"value":"4.5"},"questions.3.competencies.1":{"kind":"enum","message":"`4.6` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`4.6` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"4.6"},"value":"4.6"},"questions.4.competencies.0":{"kind":"enum","message":"`3.4` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`3.4` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"3.4"},"value":"3.4"},"questions.4.competencies.1":{"kind":"enum","message":"`3.5` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":3,"message":"`3.5` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"3.5"},"value":"3.5"}},"level":"error","message":"Generate challenge error: Challenge validation failed: questions.0.competencies.0: `3.4` is not a valid enum value for path `competencies.0`., questions.0.competencies.1: `3.5` is not a valid enum value for path `competencies.1`., questions.1.competencies.0: `4.5` is not a valid enum value for path `competencies.0`., questions.1.competencies.1: `4.6` is not a valid enum value for path `competencies.1`., questions.2.competencies.0: `3.4` is not a valid enum value for path `competencies.0`., questions.2.competencies.1: `3.5` is not a valid enum value for path `competencies.1`., questions.3.competencies.0: `4.5` is not a valid enum value for path `competencies.0`., questions.3.competencies.1: `4.6` is not a valid enum value for path `competencies.1`., questions.4.competencies.0: `3.4` is not a valid enum value for path `competencies.0`., questions.4.competencies.1: `3.5` is not a valid enum value for path `competencies.1`.","service":"nep-workbench","stack":"ValidationError: Challenge validation failed: questions.0.competencies.0: `3.4` is not a valid enum value for path `competencies.0`., questions.0.competencies.1: `3.5` is not a valid enum value for path `competencies.1`., questions.1.competencies.0: `4.5` is not a valid enum value for path `competencies.0`., questions.1.competencies.1: `4.6` is not a valid enum value for path `competencies.1`., questions.2.competencies.0: `3.4` is not a valid enum value for path `competencies.0`., questions.2.competencies.1: `3.5` is not a valid enum value for path `competencies.1`., questions.3.competencies.0: `4.5` is not a valid enum value for path `competencies.0`., questions.3.competencies.1: `4.6` is not a valid enum value for path `competencies.1`., questions.4.competencies.0: `3.4` is not a valid enum value for path `competencies.0`., questions.4.competencies.1: `3.5` is not a valid enum value for path `competencies.1`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at Subdocument.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/types/subdocument.js:257:12)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-16 00:33:30"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Get available simulations error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js","requireStack":["/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js","/home/popeye/Downloads/NEP3/backend/routes/student.routes.js","/home/popeye/Downloads/NEP3/backend/app.js","/home/popeye/Downloads/NEP3/backend/server.js"],"service":"nep-workbench","stack":"Error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)\n    at Module._load (node:internal/modules/cjs/loader:1043:27)\n    at Module.require (node:internal/modules/cjs/loader:1298:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:175:22\n    at Array.map (<anonymous>)\n    at exports.getAvailableSimulations (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:173:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-16 00:47:28"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Get available simulations error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js","requireStack":["/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js","/home/popeye/Downloads/NEP3/backend/routes/student.routes.js","/home/popeye/Downloads/NEP3/backend/app.js","/home/popeye/Downloads/NEP3/backend/server.js"],"service":"nep-workbench","stack":"Error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/student.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)\n    at Module._load (node:internal/modules/cjs/loader:1043:27)\n    at Module.require (node:internal/modules/cjs/loader:1298:19)\n    at require (node:internal/modules/helpers:182:18)\n    at /home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:175:22\n    at Array.map (<anonymous>)\n    at exports.getAvailableSimulations (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:173:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-16 18:15:39"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-C7AY3","service":"nep-workbench","simulationType":"motion-classifier-sim","studentLevel":10,"timestamp":"2026-01-16 19:21:56"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:341:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-16 19:21:56"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 19:55:58","value":"TCH-JMNI5","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 19:56:04","value":"TCH-JMNI5","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 19:57:13","value":"TCH-JMNI5","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 19:57:20","value":"TCH-JMNI5","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":220319,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 19:58:29"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 20:02:36","value":"TCH-JMNI5","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 22:39:58","value":"TCH-JMNI5","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":231377,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 22:40:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":231499,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 22:41:20"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-C7AY3","service":"nep-workbench","simulationType":"projectile-motion-simulator","studentLevel":10,"timestamp":"2026-01-16 22:41:43"}
{"_message":"Challenge validation failed","errors":{"questions.0.competencies.0":{"kind":"enum","message":"`Physical Science` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":16,"message":"`Physical Science` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"Physical Science"},"value":"Physical Science"},"questions.0.competencies.1":{"kind":"enum","message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":21,"message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"Mathematical Thinking"},"value":"Mathematical Thinking"},"questions.1.competencies.0":{"kind":"enum","message":"`Physical Science` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":16,"message":"`Physical Science` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"Physical Science"},"value":"Physical Science"},"questions.1.competencies.1":{"kind":"enum","message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":21,"message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"Mathematical Thinking"},"value":"Mathematical Thinking"},"questions.2.competencies.0":{"kind":"enum","message":"`Physical Science` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":16,"message":"`Physical Science` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"Physical Science"},"value":"Physical Science"},"questions.2.competencies.1":{"kind":"enum","message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":21,"message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"Mathematical Thinking"},"value":"Mathematical Thinking"},"questions.3.competencies.0":{"kind":"enum","message":"`Physical Science` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":16,"message":"`Physical Science` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"Physical Science"},"value":"Physical Science"},"questions.3.competencies.1":{"kind":"enum","message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":21,"message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"Mathematical Thinking"},"value":"Mathematical Thinking"},"questions.4.competencies.0":{"kind":"enum","message":"`Physical Science` is not a valid enum value for path `competencies.0`.","name":"ValidatorError","path":"competencies.0","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":16,"message":"`Physical Science` is not a valid enum value for path `competencies.0`.","path":"competencies.0","type":"enum","value":"Physical Science"},"value":"Physical Science"},"questions.4.competencies.1":{"kind":"enum","message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","name":"ValidatorError","path":"competencies.1","properties":{"enumValues":["critical-thinking","problem-solving","scientific-temper","analytical-reasoning","creativity","communication","collaboration","digital-literacy","social-responsibility","innovation","ethical-awareness","cultural-understanding"],"length":21,"message":"`Mathematical Thinking` is not a valid enum value for path `competencies.1`.","path":"competencies.1","type":"enum","value":"Mathematical Thinking"},"value":"Mathematical Thinking"}},"level":"error","message":"Generate challenge error: Challenge validation failed: questions.0.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.0.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.1.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.1.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.2.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.2.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.3.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.3.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.4.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.4.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`.","service":"nep-workbench","stack":"ValidationError: Challenge validation failed: questions.0.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.0.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.1.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.1.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.2.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.2.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.3.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.3.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`., questions.4.competencies.0: `Physical Science` is not a valid enum value for path `competencies.0`., questions.4.competencies.1: `Mathematical Thinking` is not a valid enum value for path `competencies.1`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at Subdocument.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/types/subdocument.js:257:12)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-16 22:42:02"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":231738,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 22:44:59"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 22:45:13","value":"TCH-JMNI5","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":232208,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 22:52:21"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 22:52:41","value":"TCH-JMNI5","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":232389,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 22:55:23"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 22:55:28","value":"TCH-JMNI5","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 22:57:58","value":"TCH-JMNI5","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Get profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 22:58:40","value":"TCH-JMNI5","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":233599,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 23:12:58"}
{"kind":"ObjectId","level":"error","message":"Get student profile error: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"","path":"_id","reason":{},"service":"nep-workbench","stack":"CastError: Cast to ObjectId failed for value \"TCH-JMNI5\" (type string) at path \"_id\" for model \"Teacher\"\n    at SchemaObjectId.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1679:18\n    at Array.map (<anonymous>)\n    at SchemaObjectId.handle$in (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1675:14)\n    at SchemaType.castForQuery (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1720:20)\n    at cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/cast.js:367:39)\n    at Query.cast (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:5060:12)\n    at Query._castConditions (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/query.js:2374:10)","stringValue":"\"TCH-JMNI5\"","timestamp":"2026-01-16 23:13:13","value":"TCH-JMNI5","valueType":"string"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":234590,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 23:24:56"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":234724,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 23:26:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":234857,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 23:26:58"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":235637,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-16 23:41:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":248767,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-17 13:04:16"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":15504,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-18 18:19:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":38429,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-19 01:37:43"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":42770,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-19 12:20:42"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:04:13"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":98754,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:04:14"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":99105,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:10:28"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":99338,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:13:52"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":99677,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:19:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":99990,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:23:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":100220,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:26:24"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:33:57"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":100629,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:33:58"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":100810,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:37:03"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":101542,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:51:43"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":102002,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 13:59:06"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":103725,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 14:02:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":104544,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 14:07:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":104653,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 14:08:17"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":105164,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 14:17:15"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":116370,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 18:38:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":117003,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 18:46:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":117257,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 18:50:19"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":117357,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 18:51:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":117672,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 18:57:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":118446,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:08:41"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":118616,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:11:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":119055,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:15:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:28:30"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":119697,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:28:31"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":120017,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:33:56"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":120112,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:34:49"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Starting intelligent challenge generation","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"🎯 ATTENTION MECHANISM: Recording selection for projectile-motion-simulator","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"🎓 IRT + PID: Calculating optimal difficulty...","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"✅ IRT selected difficulty: medium (ability: 0.00)","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"🧠 BAYESIAN: Predicting success probability...","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"✅ BAYESIAN predicts 50.0% success probability","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"📊 KALMAN: Forecasting performance...","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"_message":"KalmanState validation failed","errors":{"schoolId":{"kind":"required","message":"Path `schoolId` is required.","name":"ValidatorError","path":"schoolId","properties":{"message":"Path `schoolId` is required.","path":"schoolId","type":"required"}}},"level":"error","message":"Kalman predict error: KalmanState validation failed: schoolId: Path `schoolId` is required.","service":"nep-workbench","stack":"ValidationError: KalmanState validation failed: schoolId: Path `schoolId` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"✅ KALMAN predicts 50.0% performance","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"🎮 Q-LEARNING: Getting optimal recommendation...","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"error","message":"Recommend action error: QLearningAgent is not a constructor","service":"nep-workbench","stack":"TypeError: QLearningAgent is not a constructor\n    at QLearningService.getAgent (/home/popeye/Downloads/NEP3/backend/services/algorithms/qlearning.algorithm.service.js:17:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async QLearningService.recommendAction (/home/popeye/Downloads/NEP3/backend/services/algorithms/qlearning.algorithm.service.js:31:25)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1874:37)","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"✅ Q-LEARNING recommends: CONTINUE","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge for projectile-motion-simulator at medium difficulty","service":"nep-workbench","timestamp":"2026-01-20 19:45:15"}
{"level":"error","message":"❌ Generate challenge error: generateAIChallenge is not a function","service":"nep-workbench","stack":"TypeError: generateAIChallenge is not a function\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1909:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-20 19:45:15"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":120771,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:47:48"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Starting intelligent challenge generation","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"🎯 ATTENTION MECHANISM: Recording selection for projectile-motion-simulator","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"🎓 IRT + PID: Calculating optimal difficulty...","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"✅ IRT selected difficulty: medium (ability: 0.00)","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"🧠 BAYESIAN: Predicting success probability...","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"✅ BAYESIAN predicts 50.0% success probability","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"📊 KALMAN: Forecasting performance...","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"_message":"KalmanState validation failed","errors":{"schoolId":{"kind":"required","message":"Path `schoolId` is required.","name":"ValidatorError","path":"schoolId","properties":{"message":"Path `schoolId` is required.","path":"schoolId","type":"required"}}},"level":"error","message":"Kalman predict error: KalmanState validation failed: schoolId: Path `schoolId` is required.","service":"nep-workbench","stack":"ValidationError: KalmanState validation failed: schoolId: Path `schoolId` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"✅ KALMAN predicts 50.0% performance","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"🎮 Q-LEARNING: Getting optimal recommendation...","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"error","message":"Recommend action error: QLearningAgent is not a constructor","service":"nep-workbench","stack":"TypeError: QLearningAgent is not a constructor\n    at QLearningService.getAgent (/home/popeye/Downloads/NEP3/backend/services/algorithms/qlearning.algorithm.service.js:17:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async QLearningService.recommendAction (/home/popeye/Downloads/NEP3/backend/services/algorithms/qlearning.algorithm.service.js:31:25)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1875:37)","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"✅ Q-LEARNING recommends: CONTINUE","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge for projectile-motion-simulator at medium difficulty","service":"nep-workbench","timestamp":"2026-01-20 19:47:59"}
{"level":"error","message":"❌ Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1910:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-20 19:47:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":121017,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 19:52:04"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Starting intelligent challenge generation","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"🎯 ATTENTION MECHANISM: Recording selection for projectile-motion-simulator","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"🎓 IRT + PID: Calculating optimal difficulty...","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"✅ IRT selected difficulty: medium (ability: 0.00)","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"🧠 BAYESIAN: Predicting success probability...","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"✅ BAYESIAN predicts 50.0% success probability","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"📊 KALMAN: Forecasting performance...","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"_message":"KalmanState validation failed","errors":{"schoolId":{"kind":"required","message":"Path `schoolId` is required.","name":"ValidatorError","path":"schoolId","properties":{"message":"Path `schoolId` is required.","path":"schoolId","type":"required"}}},"level":"error","message":"Kalman predict error: KalmanState validation failed: schoolId: Path `schoolId` is required.","service":"nep-workbench","stack":"ValidationError: KalmanState validation failed: schoolId: Path `schoolId` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"✅ KALMAN predicts 50.0% performance","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"🎮 Q-LEARNING: Getting optimal recommendation...","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"error","message":"Recommend action error: QLearningAgent is not a constructor","service":"nep-workbench","stack":"TypeError: QLearningAgent is not a constructor\n    at QLearningService.getAgent (/home/popeye/Downloads/NEP3/backend/services/algorithms/qlearning.algorithm.service.js:17:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async QLearningService.recommendAction (/home/popeye/Downloads/NEP3/backend/services/algorithms/qlearning.algorithm.service.js:31:25)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1875:37)","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"✅ Q-LEARNING recommends: CONTINUE","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge for projectile-motion-simulator at medium difficulty","service":"nep-workbench","timestamp":"2026-01-20 19:52:08"}
{"level":"error","message":"❌ Generate challenge error: mistralService.generateChallenge is not a function","service":"nep-workbench","stack":"TypeError: mistralService.generateChallenge is not a function\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1910:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-20 19:52:08"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":130182,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:13:35"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":130641,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:21:43"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":131654,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:41:53"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":131795,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:42:57"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":132356,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:53:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":132522,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:54:37"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":132653,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-20 23:56:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":134135,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:23:52"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":134229,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:24:31"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":134457,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:27:25"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":134595,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:30:10"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":134949,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:35:05"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":135079,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:35:58"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":135253,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:37:50"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:38:25"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":135344,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:38:26"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":135599,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:41:29"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":135750,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 00:42:36"}
{"customTopic":"N/A","difficulty":"adaptive","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","timestamp":"2026-01-21 00:43:37"}
{"customTopic":"N/A","difficulty":"adaptive","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 00:44:18"}
{"customTopic":"N/A","difficulty":"auto","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 00:44:45"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Auto difficulty mode activated","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"level":"info","message":"🎓 IRT: Calculating optimal difficulty based on student ability...","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"level":"info","message":"✅ IRT selected difficulty: medium (ability: 0.00)","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"level":"info","message":"🎛️ PID: Calculating performance-based adjustment...","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"level":"info","message":"📊 PID recommendation: medium (using IRT instead)","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Final difficulty selected: medium","service":"nep-workbench","timestamp":"2026-01-21 00:44:46"}
{"difficulty":"medium","level":"info","message":"🤖 MISTRAL AI: Generating challenge","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 00:44:46","topic":"projectile-motion-simulator"}
{"level":"error","message":"❌ Generate challenge error: Cannot read properties of undefined (reading 'undefined')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'undefined')\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1391:27)\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:260:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 00:44:46"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 00:46:33"}
{"level":"info","message":"📝 MANUAL DIFFICULTY MODE: Using hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 00:46:33"}
{"difficulty":"hard","level":"info","message":"🤖 MISTRAL AI: Generating challenge","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 00:46:33","topic":"projectile-motion-simulator"}
{"level":"error","message":"❌ Generate challenge error: Cannot read properties of undefined (reading 'undefined')","service":"nep-workbench","stack":"TypeError: Cannot read properties of undefined (reading 'undefined')\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1391:27)\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:260:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 00:46:33"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"electrolysis-simulator","studentLevel":10,"timestamp":"2026-01-21 01:13:35"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 01:13:35"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"electrolysis-simulator","studentLevel":10,"timestamp":"2026-01-21 01:13:40"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 01:13:40"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"electrolysis-simulator","studentLevel":10,"timestamp":"2026-01-21 01:14:09"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 01:14:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":137309,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 01:14:19"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"electrolysis-simulator","studentLevel":10,"timestamp":"2026-01-21 01:14:21"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 01:14:21"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"electrolysis-simulator","studentLevel":10,"timestamp":"2026-01-21 01:15:00"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 01:15:00"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":138149,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 01:29:58"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 01:30:12"}
{"level":"error","message":"❌ Generate challenge error: SIMULATION_METADATA is not defined","service":"nep-workbench","stack":"ReferenceError: SIMULATION_METADATA is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:153:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 01:30:12"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 01:30:12"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":147522,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 13:49:54"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 13:50:04"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 13:50:04","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 13:50:04"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 13:50:04"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 13:50:04"}
{"level":"error","message":"❌ Generate challenge error: logger is not defined","service":"nep-workbench","stack":"ReferenceError: logger is not defined\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1688:5)\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:279:48)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 13:50:04"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 13:50:04"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":147721,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 13:52:27"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 13:52:30"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 13:52:30","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 13:52:30"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 13:52:30"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 13:52:30"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 13:52:30","topic":"projectile-motion-simulator"}
{"level":"info","message":"✅ Mistral AI responded in 23390ms","service":"nep-workbench","timestamp":"2026-01-21 13:52:53"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 13:52:53"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 13:52:53"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 13:52:53"}
{"level":"info","message":"✅ Challenge generated in 23392ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 13:52:53"}
{"_message":"Challenge validation failed","errors":{"questions.0.type":{"kind":"enum","message":"`SHORT_ANSWER` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["mcq","numerical","short_answer"],"length":12,"message":"`SHORT_ANSWER` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"SHORT_ANSWER"},"value":"SHORT_ANSWER"},"questions.1.type":{"kind":"enum","message":"`NUMERICAL` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["mcq","numerical","short_answer"],"length":9,"message":"`NUMERICAL` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"NUMERICAL"},"value":"NUMERICAL"},"questions.2.type":{"kind":"enum","message":"`REASONING` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["mcq","numerical","short_answer"],"length":9,"message":"`REASONING` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"REASONING"},"value":"REASONING"},"questions.3.type":{"kind":"enum","message":"`MCQ` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["mcq","numerical","short_answer"],"length":3,"message":"`MCQ` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"MCQ"},"value":"MCQ"},"questions.4.type":{"kind":"enum","message":"`REASONING` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["mcq","numerical","short_answer"],"length":9,"message":"`REASONING` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"REASONING"},"value":"REASONING"}},"level":"error","message":"❌ Generate challenge error: Challenge validation failed: questions.0.type: `SHORT_ANSWER` is not a valid enum value for path `type`., questions.1.type: `NUMERICAL` is not a valid enum value for path `type`., questions.2.type: `REASONING` is not a valid enum value for path `type`., questions.3.type: `MCQ` is not a valid enum value for path `type`., questions.4.type: `REASONING` is not a valid enum value for path `type`.","service":"nep-workbench","stack":"ValidationError: Challenge validation failed: questions.0.type: `SHORT_ANSWER` is not a valid enum value for path `type`., questions.1.type: `NUMERICAL` is not a valid enum value for path `type`., questions.2.type: `REASONING` is not a valid enum value for path `type`., questions.3.type: `MCQ` is not a valid enum value for path `type`., questions.4.type: `REASONING` is not a valid enum value for path `type`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at Subdocument.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/types/subdocument.js:257:12)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 13:52:53"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 13:52:53"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":149278,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 14:20:33"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 14:20:38"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 14:20:38","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 14:20:38"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 14:20:38"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 14:20:38"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 14:20:38","topic":"projectile-motion-simulator"}
{"level":"info","message":"✅ Mistral AI responded in 23049ms","service":"nep-workbench","timestamp":"2026-01-21 14:21:01"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 14:21:01"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:21:01"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 14:21:01"}
{"level":"info","message":"✅ Challenge generated in 23050ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:21:01"}
{"_message":"Challenge validation failed","errors":{"questions.3.type":{"kind":"enum","message":"`REASONING` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["MCQ","NUMERICAL","SHORT_ANSWER"],"length":9,"message":"`REASONING` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"REASONING"},"value":"REASONING"},"questions.4.type":{"kind":"enum","message":"`REASONING` is not a valid enum value for path `type`.","name":"ValidatorError","path":"type","properties":{"enumValues":["MCQ","NUMERICAL","SHORT_ANSWER"],"length":9,"message":"`REASONING` is not a valid enum value for path `type`.","path":"type","type":"enum","value":"REASONING"},"value":"REASONING"}},"level":"error","message":"❌ Generate challenge error: Challenge validation failed: questions.3.type: `REASONING` is not a valid enum value for path `type`., questions.4.type: `REASONING` is not a valid enum value for path `type`.","service":"nep-workbench","stack":"ValidationError: Challenge validation failed: questions.3.type: `REASONING` is not a valid enum value for path `type`., questions.4.type: `REASONING` is not a valid enum value for path `type`.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at Subdocument.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/types/subdocument.js:257:12)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:21:01"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:21:01"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":149510,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 14:22:43"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 14:22:48"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 14:22:48","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 14:22:48"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 14:22:48"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 14:22:48"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 14:22:48","topic":"projectile-motion-simulator"}
{"level":"info","message":"✅ Mistral AI responded in 18857ms","service":"nep-workbench","timestamp":"2026-01-21 14:23:07"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 14:23:07"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:23:07"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 14:23:07"}
{"level":"info","message":"✅ Challenge generated in 18859ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:23:07"}
{"_message":"Student validation failed","errors":{"schoolId":{"kind":"required","message":"School ID is required","name":"ValidatorError","path":"schoolId","properties":{"message":"School ID is required","path":"schoolId","type":"required"}},"teacherId":{"kind":"required","message":"Teacher ID is required","name":"ValidatorError","path":"teacherId","properties":{"message":"Teacher ID is required","path":"teacherId","type":"required"}}},"level":"error","message":"❌ Generate challenge error: Student validation failed: schoolId: School ID is required, teacherId: Teacher ID is required","service":"nep-workbench","stack":"ValidationError: Student validation failed: schoolId: School ID is required, teacherId: Teacher ID is required\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:23:07"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:23:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":150711,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 14:40:25"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 14:40:31"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 14:40:31","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 14:40:31"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 14:40:31"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 14:40:31"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 14:40:31","topic":"projectile-motion-simulator"}
{"level":"info","message":"✅ Mistral AI responded in 22115ms","service":"nep-workbench","timestamp":"2026-01-21 14:40:54"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 14:40:54"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:40:54"}
{"MCQ":1,"NUMERICAL":2,"REASONING":1,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 14:40:54"}
{"level":"info","message":"✅ Challenge generated in 22117ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:40:54"}
{"_message":"Challenge validation failed","errors":{"questions.1.points":{"kind":"max","message":"Path `points` (150) is more than maximum allowed value (100).","name":"ValidatorError","path":"points","properties":{"max":100,"message":"Path `points` (150) is more than maximum allowed value (100).","path":"points","type":"max","value":150},"value":150},"questions.2.points":{"kind":"max","message":"Path `points` (200) is more than maximum allowed value (100).","name":"ValidatorError","path":"points","properties":{"max":100,"message":"Path `points` (200) is more than maximum allowed value (100).","path":"points","type":"max","value":200},"value":200},"questions.3.points":{"kind":"max","message":"Path `points` (250) is more than maximum allowed value (100).","name":"ValidatorError","path":"points","properties":{"max":100,"message":"Path `points` (250) is more than maximum allowed value (100).","path":"points","type":"max","value":250},"value":250},"questions.4.points":{"kind":"max","message":"Path `points` (300) is more than maximum allowed value (100).","name":"ValidatorError","path":"points","properties":{"max":100,"message":"Path `points` (300) is more than maximum allowed value (100).","path":"points","type":"max","value":300},"value":300}},"level":"error","message":"❌ Generate challenge error: Challenge validation failed: questions.1.points: Path `points` (150) is more than maximum allowed value (100)., questions.2.points: Path `points` (200) is more than maximum allowed value (100)., questions.3.points: Path `points` (250) is more than maximum allowed value (100)., questions.4.points: Path `points` (300) is more than maximum allowed value (100).","service":"nep-workbench","stack":"ValidationError: Challenge validation failed: questions.1.points: Path `points` (150) is more than maximum allowed value (100)., questions.2.points: Path `points` (200) is more than maximum allowed value (100)., questions.3.points: Path `points` (250) is more than maximum allowed value (100)., questions.4.points: Path `points` (300) is more than maximum allowed value (100).\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at Subdocument.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/types/subdocument.js:257:12)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:40:54"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:40:54"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":151110,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 14:45:41"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 14:45:45"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 14:45:45","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 14:45:45"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 14:45:45"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 14:45:45"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 14:45:45","topic":"projectile-motion-simulator"}
{"level":"info","message":"✅ Mistral AI responded in 16695ms","service":"nep-workbench","timestamp":"2026-01-21 14:46:02"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 14:46:02"}
{"level":"error","message":"❌ Mistral AI generation error: Question 2 missing correct answer","service":"nep-workbench","stack":"Error: Question 2 missing correct answer\n    at /home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1633:15\n    at Array.forEach (<anonymous>)\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1628:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:279:27)","timestamp":"2026-01-21 14:46:02"}
{"level":"error","message":"❌ Generate challenge error: Question 2 missing correct answer","service":"nep-workbench","stack":"Error: Question 2 missing correct answer\n    at /home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1633:15\n    at Array.forEach (<anonymous>)\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1628:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:279:27)","timestamp":"2026-01-21 14:46:02"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 14:46:02"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":151405,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 14:49:52"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"projectile-motion-simulator","subject":"physics","timestamp":"2026-01-21 14:49:58"}
{"difficultyFactors":16,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 14:49:58","tools":18,"topics":26}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 14:49:58"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 14:49:58"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 14:49:58"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 14:49:58","topic":"projectile-motion-simulator"}
{"level":"info","message":"✅ Mistral AI responded in 30950ms","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"MCQ":1,"NUMERICAL":2,"REASONING":1,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"level":"info","message":"✅ Challenge generated in 30951ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"0":"S","1":"t","10":"l","11":"i","12":"d","13":"a","14":"t","15":"i","16":"o","17":"n","18":" ","19":"f","2":"u","20":"a","21":"i","22":"l","23":"e","24":"d","25":":","26":" ","27":"s","28":"c","29":"h","3":"d","30":"o","31":"o","32":"l","33":"I","34":"d","35":":","36":" ","37":"S","38":"c","39":"h","4":"e","40":"o","41":"o","42":"l","43":" ","44":"I","45":"D","46":" ","47":"i","48":"s","49":" ","5":"n","50":"r","51":"e","52":"q","53":"u","54":"i","55":"r","56":"e","57":"d","58":",","59":" ","6":"t","60":"t","61":"e","62":"a","63":"c","64":"h","65":"e","66":"r","67":"I","68":"d","69":":","7":" ","70":" ","71":"T","72":"e","73":"a","74":"c","75":"h","76":"e","77":"r","78":" ","79":"I","8":"v","80":"D","81":" ","82":"i","83":"s","84":" ","85":"r","86":"e","87":"q","88":"u","89":"i","9":"a","90":"r","91":"e","92":"d","level":"warn","message":"Failed to update student stats:","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"level":"info","message":"✅ Challenge CHL-1768987229088 created","service":"nep-workbench","timestamp":"2026-01-21 14:50:29"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-21 15:03:25"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 15:03:25","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 15:03:25"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 15:03:25"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 15:03:25"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 15:03:25","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 19856ms","service":"nep-workbench","timestamp":"2026-01-21 15:03:45"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 15:03:45"}
{"level":"error","message":"❌ Mistral AI generation error: Question 1 missing correct answer","service":"nep-workbench","stack":"Error: Question 1 missing correct answer\n    at /home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1633:15\n    at Array.forEach (<anonymous>)\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1628:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:279:27)","timestamp":"2026-01-21 15:03:45"}
{"level":"error","message":"❌ Generate challenge error: Question 1 missing correct answer","service":"nep-workbench","stack":"Error: Question 1 missing correct answer\n    at /home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1633:15\n    at Array.forEach (<anonymous>)\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1628:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:279:27)","timestamp":"2026-01-21 15:03:45"}
{"_message":"AILog validation failed","errors":{"model":{"kind":"required","message":"Path `model` is required.","name":"ValidatorError","path":"model","properties":{"message":"Path `model` is required.","path":"model","type":"required"}}},"level":"error","message":"Failed to log error: AILog validation failed: model: Path `model` is required.","service":"nep-workbench","stack":"ValidationError: AILog validation failed: model: Path `model` is required.\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3134:17\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/schemaType.js:1446:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2026-01-21 15:03:45"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-21 15:04:16"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 15:04:16","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 15:04:16"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 15:04:16"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 15:04:16"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 15:04:16","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 27736ms","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"level":"info","message":"✅ Challenge generated in 27737ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"0":"S","1":"t","10":"l","11":"i","12":"d","13":"a","14":"t","15":"i","16":"o","17":"n","18":" ","19":"f","2":"u","20":"a","21":"i","22":"l","23":"e","24":"d","25":":","26":" ","27":"s","28":"c","29":"h","3":"d","30":"o","31":"o","32":"l","33":"I","34":"d","35":":","36":" ","37":"S","38":"c","39":"h","4":"e","40":"o","41":"o","42":"l","43":" ","44":"I","45":"D","46":" ","47":"i","48":"s","49":" ","5":"n","50":"r","51":"e","52":"q","53":"u","54":"i","55":"r","56":"e","57":"d","58":",","59":" ","6":"t","60":"t","61":"e","62":"a","63":"c","64":"h","65":"e","66":"r","67":"I","68":"d","69":":","7":" ","70":" ","71":"T","72":"e","73":"a","74":"c","75":"h","76":"e","77":"r","78":" ","79":"I","8":"v","80":"D","81":" ","82":"i","83":"s","84":" ","85":"r","86":"e","87":"q","88":"u","89":"i","9":"a","90":"r","91":"e","92":"d","level":"warn","message":"Failed to update student stats:","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"level":"info","message":"✅ Challenge CHL-1768988084301 created","service":"nep-workbench","timestamp":"2026-01-21 15:04:44"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"electrolysis-simulator","studentLevel":10,"timestamp":"2026-01-21 16:56:07"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 16:56:07"}
{"difficulty":"medium","level":"info","message":"Generating challenge for student STU-NCYVN","service":"nep-workbench","simulationType":"magnetic-field-visualizer","studentLevel":10,"timestamp":"2026-01-21 17:01:13"}
{"level":"error","message":"Generate challenge error: generateAIChallenge is not defined","service":"nep-workbench","stack":"ReferenceError: generateAIChallenge is not defined\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/student.controller.js:384:27)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 17:01:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":153977,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 17:17:48"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":154266,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 17:21:09"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":154541,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 17:24:26"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-21 17:24:38"}
{"level":"warn","message":"Student STU-NCYVN missing schoolId, using default","service":"nep-workbench","timestamp":"2026-01-21 17:24:38"}
{"level":"warn","message":"Student STU-NCYVN missing teacherId, using default","service":"nep-workbench","timestamp":"2026-01-21 17:24:38"}
{"level":"info","message":"✅ Fixed student IDs: schoolId=[object Object], teacherId=SYSTEM-DEFAULT","service":"nep-workbench","timestamp":"2026-01-21 17:24:38"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 17:24:38","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 17:24:38"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 17:24:38"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 17:24:38"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 17:24:38","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 36248ms","service":"nep-workbench","timestamp":"2026-01-21 17:25:14"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 17:25:14"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 17:25:14"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 17:25:14"}
{"level":"info","message":"✅ Challenge generated in 36251ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 17:25:14"}
{"_message":"Challenge validation failed","errors":{"schoolId":{"kind":"string","message":"Cast to string failed for value \"{\n  limits: { maxTeachers: 10, maxStudents: 100, maxClasses: 5 },\n  stats: {\n    totalTeachers: 0,\n    totalStudents: 0,\n    totalClasses: 0,\n    totalChallenges: 0\n  },\n  settings: {\n    enableEmailNotifications: true,\n    enableParentAccess: true,\n    enableAIEvaluation: true,\n    challengeDailyLimit: 10,\n    challengePerSimLimit: 3\n  },\n  country: 'India',\n  verified: false,\n  active: true,\n  subscriptionPlan: 'free',\n  loginAttempts: 0,\n  createdBy: 'self-registration',\n  buffer: {\n    type: 'Buffer',\n    data: [\n      105, 103, 74, 72,  70,\n        6, 123, 48, 14, 183,\n      155, 227\n    ]\n  },\n  schoolId: 'SCH-2026-SHOQA'\n}\" (type Object) at path \"schoolId\"","name":"CastError","path":"schoolId","reason":null,"stringValue":"\"{\n  limits: { maxTeachers: 10, maxStudents: 100, maxClasses: 5 },\n  stats: {\n    totalTeachers: 0,\n    totalStudents: 0,\n    totalClasses: 0,\n    totalChallenges: 0\n  },\n  settings: {\n    enableEmailNotifications: true,\n    enableParentAccess: true,\n    enableAIEvaluation: true,\n    challengeDailyLimit: 10,\n    challengePerSimLimit: 3\n  },\n  country: 'India',\n  verified: false,\n  active: true,\n  subscriptionPlan: 'free',\n  loginAttempts: 0,\n  createdBy: 'self-registration',\n  buffer: {\n    type: 'Buffer',\n    data: [\n      105, 103, 74, 72,  70,\n        6, 123, 48, 14, 183,\n      155, 227\n    ]\n  },\n  schoolId: 'SCH-2026-SHOQA'\n}\"","value":{"active":true,"buffer":{"data":[105,103,74,72,70,6,123,48,14,183,155,227],"type":"Buffer"},"country":"India","createdBy":"self-registration","limits":{"maxClasses":5,"maxStudents":100,"maxTeachers":10},"loginAttempts":0,"schoolId":"SCH-2026-SHOQA","settings":{"challengeDailyLimit":10,"challengePerSimLimit":3,"enableAIEvaluation":true,"enableEmailNotifications":true,"enableParentAccess":true},"stats":{"totalChallenges":0,"totalClasses":0,"totalStudents":0,"totalTeachers":0},"subscriptionPlan":"free","verified":false},"valueType":"Object"}},"level":"error","message":"❌ Generate challenge error: Challenge validation failed: schoolId: Cast to string failed for value \"{\n  limits: { maxTeachers: 10, maxStudents: 100, maxClasses: 5 },\n  stats: {\n    totalTeachers: 0,\n    totalStudents: 0,\n    totalClasses: 0,\n    totalChallenges: 0\n  },\n  settings: {\n    enableEmailNotifications: true,\n    enableParentAccess: true,\n    enableAIEvaluation: true,\n    challengeDailyLimit: 10,\n    challengePerSimLimit: 3\n  },\n  country: 'India',\n  verified: false,\n  active: true,\n  subscriptionPlan: 'free',\n  loginAttempts: 0,\n  createdBy: 'self-registration',\n  buffer: {\n    type: 'Buffer',\n    data: [\n      105, 103, 74, 72,  70,\n        6, 123, 48, 14, 183,\n      155, 227\n    ]\n  },\n  schoolId: 'SCH-2026-SHOQA'\n}\" (type Object) at path \"schoolId\"","service":"nep-workbench","stack":"ValidationError: Challenge validation failed: schoolId: Cast to string failed for value \"{\n  limits: { maxTeachers: 10, maxStudents: 100, maxClasses: 5 },\n  stats: {\n    totalTeachers: 0,\n    totalStudents: 0,\n    totalClasses: 0,\n    totalChallenges: 0\n  },\n  settings: {\n    enableEmailNotifications: true,\n    enableParentAccess: true,\n    enableAIEvaluation: true,\n    challengeDailyLimit: 10,\n    challengePerSimLimit: 3\n  },\n  country: 'India',\n  verified: false,\n  active: true,\n  subscriptionPlan: 'free',\n  loginAttempts: 0,\n  createdBy: 'self-registration',\n  buffer: {\n    type: 'Buffer',\n    data: [\n      105, 103, 74, 72,  70,\n        6, 123, 48, 14, 183,\n      155, 227\n    ]\n  },\n  schoolId: 'SCH-2026-SHOQA'\n}\" (type Object) at path \"schoolId\"\n    at Document.invalidate (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:3373:32)\n    at model.$set (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:1490:12)\n    at model.$set (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:1142:16)\n    at model.Document (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/document.js:178:12)\n    at model.Model (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/model.js:127:12)\n    at new model (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/model.js:4865:15)\n    at /home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/model.js:2791:20\n    at Array.map (<anonymous>)\n    at Function.create (/home/popeye/Downloads/NEP3/backend/node_modules/mongoose/lib/model.js:2779:34)\n    at exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:384:39)","timestamp":"2026-01-21 17:25:14"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":154778,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 17:27:11"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-21 17:27:20"}
{"level":"info","message":"✅ Fixed student IDs: schoolId=SCH-2026-KS--3, teacherId=SYSTEM-DEFAULT","service":"nep-workbench","timestamp":"2026-01-21 17:27:20"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 17:27:20","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 17:27:20"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 17:27:20"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 17:27:20"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 17:27:20","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 26671ms","service":"nep-workbench","timestamp":"2026-01-21 17:27:47"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 17:27:47"}
{"level":"error","message":"❌ Mistral AI generation error: Question 1 missing correct answer","service":"nep-workbench","stack":"Error: Question 1 missing correct answer\n    at /home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1633:15\n    at Array.forEach (<anonymous>)\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1628:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:349:27)","timestamp":"2026-01-21 17:27:47"}
{"level":"error","message":"❌ Generate challenge error: Question 1 missing correct answer","service":"nep-workbench","stack":"Error: Question 1 missing correct answer\n    at /home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1633:15\n    at Array.forEach (<anonymous>)\n    at Object.generateChallenge (/home/popeye/Downloads/NEP3/backend/services/mistral.service.js:1628:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async exports.generateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:349:27)","timestamp":"2026-01-21 17:27:47"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-21 17:28:03"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 17:28:03","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 17:28:03"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 17:28:03"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 17:28:03"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 17:28:03","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 21899ms","service":"nep-workbench","timestamp":"2026-01-21 17:28:25"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 17:28:25"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 17:28:25"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 17:28:25"}
{"level":"info","message":"✅ Challenge generated in 21901ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 17:28:25"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-21 17:35:26"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-21 17:35:26","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-21 17:35:26"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-21 17:35:26"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-21 17:35:26"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-21 17:35:26","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 19481ms","service":"nep-workbench","timestamp":"2026-01-21 17:35:46"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-21 17:35:46"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-21 17:35:46"}
{"MCQ":1,"NUMERICAL":2,"REASONING":1,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-21 17:35:46"}
{"level":"info","message":"✅ Challenge generated in 19482ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-21 17:35:46"}
{"level":"error","message":"Preview challenge error: getSimulation is not defined","service":"nep-workbench","stack":"ReferenceError: getSimulation is not defined\n    at exports.previewChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:612:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at /home/popeye/Downloads/NEP3/backend/middleware/auth.middleware.js:131:5\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at protect (/home/popeye/Downloads/NEP3/backend/middleware/auth.middleware.js:76:5)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)","timestamp":"2026-01-21 17:49:25"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":156077,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 17:50:52"}
{"level":"error","message":"Preview challenge error: getSimulation is not defined","service":"nep-workbench","stack":"ReferenceError: getSimulation is not defined\n    at exports.previewChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:612:24)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at /home/popeye/Downloads/NEP3/backend/middleware/auth.middleware.js:131:5\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at protect (/home/popeye/Downloads/NEP3/backend/middleware/auth.middleware.js:76:5)\n    at Layer.handle [as handle_request] (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/home/popeye/Downloads/NEP3/backend/node_modules/express/lib/router/route.js:119:3)","timestamp":"2026-01-21 17:50:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":157285,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 18:13:27"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"student","service":"nep-workbench","timestamp":"2026-01-21 18:13:34"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"student","service":"nep-workbench","timestamp":"2026-01-21 19:59:03"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":165398,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 20:07:31"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"student","service":"nep-workbench","timestamp":"2026-01-21 20:07:47"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":165601,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 20:09:41"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"student","service":"nep-workbench","timestamp":"2026-01-21 20:09:53"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"student","service":"nep-workbench","timestamp":"2026-01-21 20:10:05"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":true,"message":"Authorization debug:","reqUserRole":"student","reqUserStudentId":"STU-NCYVN","service":"nep-workbench","timestamp":"2026-01-21 20:15:09"}
{"level":"info","message":"Challenge CHL-1768997146092 submitted, starting AI evaluation","service":"nep-workbench","timestamp":"2026-01-21 20:19:37"}
{"level":"error","message":"Evaluation error: evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:977:34)\n    at Immediate._onImmediate (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:845:15)\n    at process.processImmediate (node:internal/timers:483:21)","timestamp":"2026-01-21 20:19:37"}
{"level":"error","message":"Async evaluation error: evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:977:34)\n    at Immediate._onImmediate (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:845:15)\n    at process.processImmediate (node:internal/timers:483:21)","timestamp":"2026-01-21 20:19:37"}
{"level":"error","message":"Evaluation error: evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:977:34)\n    at exports.evaluateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1139:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 20:46:28"}
{"level":"error","message":"Evaluate challenge error: evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:977:34)\n    at exports.evaluateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1139:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-21 20:46:28"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-21 20:48:00"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":167926,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 20:53:27"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-21 20:53:31"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":168075,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 20:54:52"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":168266,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 20:58:04"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":168650,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 21:02:44"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":168740,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-21 21:03:21"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-22 11:46:16"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":184222,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 11:46:30"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-22 11:46:44"}
{"challengeStudentId":"STU-NCYVN","level":"info","match":false,"message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-22 11:49:11"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":184758,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 11:56:06"}
{"challengeStudentId":"STU-NCYVN","challengeTeacherId":"SYSTEM-DEFAULT","isAdmin":false,"isStudent":false,"isTeacher":false,"level":"info","message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-22 11:56:18"}
{"challengeStudentId":"STU-NCYVN","challengeTeacherId":"SYSTEM-DEFAULT","isAdmin":false,"isStudent":false,"isTeacher":false,"level":"info","message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-22 11:56:27"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:04:15"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":185186,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:04:16"}
{"customTopic":"N/A","difficulty":"hard","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-22 12:06:07"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-22 12:06:07","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-22 12:06:07"}
{"level":"info","message":"📝 MANUAL DIFFICULTY: hard (user-selected)","service":"nep-workbench","timestamp":"2026-01-22 12:06:07"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-22 12:06:07"}
{"difficulty":"hard","ferrariEngine":false,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-22 12:06:07","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 21890ms","service":"nep-workbench","timestamp":"2026-01-22 12:06:29"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-22 12:06:29"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-22 12:06:29"}
{"MCQ":1,"NUMERICAL":1,"REASONING":2,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-22 12:06:29"}
{"level":"info","message":"✅ Challenge generated in 21891ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-22 12:06:29"}
{"challengeStudentId":"STU-NCYVN","challengeTeacherId":"SYSTEM-DEFAULT","isAdmin":false,"isStudent":false,"isTeacher":false,"level":"info","message":"Authorization debug:","reqUserRole":"teacher","service":"nep-workbench","timestamp":"2026-01-22 12:06:41"}
{"customTopic":"N/A","difficulty":"auto","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-22 12:08:33"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-22 12:08:33","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Auto difficulty mode activated","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"🎓 IRT: Calculating optimal difficulty...","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"✅ IRT selected: medium (ability: 0.00)","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"🎛️ PID: Calculating adjustment...","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"📊 PID suggests: medium (using IRT)","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Final difficulty: medium","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-22 12:08:33"}
{"difficulty":"medium","ferrariEngine":true,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-22 12:08:33","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 15564ms","service":"nep-workbench","timestamp":"2026-01-22 12:08:49"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-22 12:08:49"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-22 12:08:49"}
{"MCQ":1,"NUMERICAL":1,"REASONING":1,"SHORT_ANSWER":2,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-22 12:08:49"}
{"level":"info","message":"✅ Challenge generated in 15567ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-22 12:08:49"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:15:24"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":185786,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:15:25"}
{"level":"info","message":"Challenge CHL-1769063929157 submitted, starting AI evaluation","service":"nep-workbench","timestamp":"2026-01-22 12:16:27"}
{"level":"error","message":"Evaluation error: evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1076:34)\n    at Immediate._onImmediate (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:942:15)\n    at process.processImmediate (node:internal/timers:483:21)","timestamp":"2026-01-22 12:16:27"}
{"level":"error","message":"Async evaluation error: evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1076:34)\n    at Immediate._onImmediate (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:942:15)\n    at process.processImmediate (node:internal/timers:483:21)","timestamp":"2026-01-22 12:16:27"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":186090,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:19:09"}
{"challengeStudentId":"STU-NCYVN","challengeTeacherId":"SYSTEM-DEFAULT","isAdmin":false,"isStudent":true,"isTeacher":false,"level":"info","message":"Authorization debug:","reqUserRole":"student","reqUserStudentId":"STU-NCYVN","service":"nep-workbench","timestamp":"2026-01-22 12:20:07"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":186221,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:21:12"}
{"level":"error","message":"Evaluation error: mistralService.evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: mistralService.evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1077:49)\n    at exports.evaluateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1239:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-22 12:22:06"}
{"level":"error","message":"Evaluate challenge error: mistralService.evaluateResponse is not a function","service":"nep-workbench","stack":"TypeError: mistralService.evaluateResponse is not a function\n    at evaluateChallengeWithAI (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1077:49)\n    at exports.evaluateChallenge (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1239:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-22 12:22:06"}
{"customTopic":"N/A","difficulty":"auto","level":"info","message":"🎯 Challenge Generation Request:","numberOfQuestions":5,"service":"nep-workbench","simulationType":"motion-classifier-sim","subject":"physics","timestamp":"2026-01-22 12:23:06"}
{"difficultyFactors":8,"level":"info","message":"📚 Simulation metadata loaded:","service":"nep-workbench","timestamp":"2026-01-22 12:23:06","tools":17,"topics":14}
{"level":"info","message":"📊 Recent average score: 50.00%","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Auto difficulty mode activated","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"🎓 IRT: Calculating optimal difficulty...","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"✅ IRT selected: medium (ability: 0.00)","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"🎛️ PID: Calculating adjustment...","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"📊 PID suggests: medium (using IRT)","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"🏎️ FERRARI ENGINE: Final difficulty: medium","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"level":"info","message":"🤖 MISTRAL AI: Generating challenge with all data","service":"nep-workbench","timestamp":"2026-01-22 12:23:06"}
{"difficulty":"medium","ferrariEngine":true,"hasMetadata":true,"level":"info","message":"🤖 Mistral AI: Challenge generation started","numberOfQuestions":5,"service":"nep-workbench","subject":"physics","timestamp":"2026-01-22 12:23:06","topic":"motion-classifier-sim"}
{"level":"info","message":"✅ Mistral AI responded in 16694ms","service":"nep-workbench","timestamp":"2026-01-22 12:23:22"}
{"level":"info","message":"✅ Successfully parsed AI response","service":"nep-workbench","timestamp":"2026-01-22 12:23:22"}
{"level":"info","message":"✅ Validated 5 questions","service":"nep-workbench","timestamp":"2026-01-22 12:23:22"}
{"MCQ":2,"NUMERICAL":1,"REASONING":1,"SHORT_ANSWER":1,"level":"info","message":"📊 Question type distribution:","service":"nep-workbench","timestamp":"2026-01-22 12:23:22"}
{"level":"info","message":"✅ Challenge generated in 16697ms with 5 questions","service":"nep-workbench","timestamp":"2026-01-22 12:23:22"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":186559,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:25:41"}
{"level":"info","message":"Challenge CHL-1769063929157 evaluated: 84% (PASSED) in 14440ms","service":"nep-workbench","timestamp":"2026-01-22 12:26:10"}
{"level":"info","message":"Challenge CHL-1769063929157 evaluated: 78% (PASSED) in 13735ms","service":"nep-workbench","timestamp":"2026-01-22 12:33:59"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:37:15"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":187371,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:37:16"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":187688,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:40:10"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"Get recommended challenges error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/challenge.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js","requireStack":["/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js","/home/popeye/Downloads/NEP3/backend/routes/challenge.routes.js","/home/popeye/Downloads/NEP3/backend/app.js","/home/popeye/Downloads/NEP3/backend/server.js"],"service":"nep-workbench","stack":"Error: Cannot find module '../utils/simulationHelpers'\nRequire stack:\n- /home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js\n- /home/popeye/Downloads/NEP3/backend/routes/challenge.routes.js\n- /home/popeye/Downloads/NEP3/backend/app.js\n- /home/popeye/Downloads/NEP3/backend/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1212:15)\n    at Module._load (node:internal/modules/cjs/loader:1043:27)\n    at Module.require (node:internal/modules/cjs/loader:1298:19)\n    at require (node:internal/modules/helpers:182:18)\n    at exports.getRecommendedChallenges (/home/popeye/Downloads/NEP3/backend/controllers/challenge.controller.js:1762:43)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2026-01-22 12:40:13"}
{"level":"info","message":"✅ SendGrid initialized","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"✅ IRT calibration jobs scheduled","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"Attempting to connect to MongoDB...","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"Mongoose connected","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"✅ MongoDB connected successfully","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"📦 Database: nep-workbench","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"🌐 Host: 127.0.0.1","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"level":"info","message":"🔢 Port: 27017","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"environment":"test","level":"info","message":"Server started successfully","nodeVersion":"v20.19.0","pid":187831,"platform":"linux","port":"3000","service":"nep-workbench","timestamp":"2026-01-22 12:41:38"}
{"challengeStudentId":"STU-NCYVN","challengeTeacherId":"SYSTEM-DEFAULT","isAdmin":false,"isStudent":true,"isTeacher":false,"level":"info","message":"Authorization debug:","reqUserRole":"student","reqUserStudentId":"STU-NCYVN","service":"nep-workbench","timestamp":"2026-01-22 12:44:58"}
